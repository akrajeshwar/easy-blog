<!DOCTYPE html>
<html>
<head>
  <title>Easy Blog - Write Blog</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<footer class="site-footer">
  <p>No login required â€” just write, publish, and share your thoughts instantly.</p>
</footer>

<body>

<div class="container">
  <h1>Submit Your Blog</h1>

  <a class="btn" href="blog.html">View All Blogs</a>

  <h2>Write a Blog</h2>

  <label>Title</label>
  <input id="title" type="text" placeholder="Enter blog title">

  <label>Content</label>
  <textarea id="content" placeholder="Write your blog here..." rows="8"></textarea>

  <label>Author</label>
  <input id="author" type="text" placeholder="Your name">

  <button id="submitBtn">Submit Blog</button>
</div>

<script type="module">
  import { db, collection, addDoc } from "./firebase.js";

  document.getElementById("submitBtn").addEventListener("click", async () => {
    const title = document.getElementById("title").value;
    const content = document.getElementById("content").value;
    const author = document.getElementById("author").value;

    if (!title || !content || !author) {
      alert("Please fill all fields!");
      return;
    }

    await addDoc(collection(db, "blogs"), {
      title,
      content,
      author,
      timestamp: new Date()
    });

    alert("Blog submitted!");
    window.location.href = "blog.html";
  });
</script>

</body>
</html>
